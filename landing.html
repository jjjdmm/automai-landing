<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot AI per Ristoranti - Automatizza le Prenotazioni 24/7</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white">
    
    <!-- Header -->
    <nav class="bg-black/30 backdrop-blur-sm border-b border-white/10 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-lg">
                    <span class="text-2xl">ü§ñ</span>
                </div>
                <span class="text-xl font-bold">AutomAI Ristoranti</span>
            </div>
            <button onclick="document.getElementById('prezzi').scrollIntoView({behavior:'smooth'})" class="px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition-all">
                Inizia Ora
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="max-w-6xl mx-auto px-6 py-20">
        <div class="text-center mb-12">
            <div class="inline-block px-4 py-2 bg-purple-600/20 rounded-full border border-purple-500/50 mb-6">
                <span class="text-purple-300 text-sm">‚ú® Pi√π di 50 ristoranti gi√† attivi</span>
            </div>
            
            <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
                Smetti di Perdere
                <span class="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent"> Prenotazioni</span>
            </h1>
            
            <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">
                Il tuo chatbot AI risponde in <span class="text-green-400 font-bold">10 secondi</span>, 
                24/7 su WhatsApp e Instagram. <span class="text-pink-400 font-bold">+35% prenotazioni</span> senza assumere personale.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                <button onclick="document.getElementById('demo').scrollIntoView({behavior:'smooth'})" class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all transform hover:scale-105">
                    üöÄ Prova la Demo Gratuita
                </button>
                <button onclick="document.getElementById('prezzi').scrollIntoView({behavior:'smooth'})" class="px-8 py-4 bg-white/10 border border-white/20 rounded-lg font-bold text-lg hover:bg-white/20 transition-all">
                    Vedi Prezzi
                </button>
            </div>
        </div>

        <!-- Benefits -->
        <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
            <div class="bg-white/5 border border-white/10 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">‚ö°</div>
                <h3 class="font-bold text-lg mb-2">Risposta Immediata</h3>
                <p class="text-gray-400 text-sm">10 secondi, 24 ore su 24</p>
            </div>
            <div class="bg-white/5 border border-white/10 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">üìà</div>
                <h3 class="font-bold text-lg mb-2">+35% Prenotazioni</h3>
                <p class="text-gray-400 text-sm">Risultati medi dei clienti</p>
            </div>
            <div class="bg-white/5 border border-white/10 rounded-xl p-6 text-center">
                <div class="text-4xl mb-3">üí∞</div>
                <h3 class="font-bold text-lg mb-2">Meno di ‚Ç¨25/giorno</h3>
                <p class="text-gray-400 text-sm">Costa meno di un dipendente</p>
            </div>
        </div>
    </section>

    <!-- Demo Interattiva FUNZIONANTE -->
    <section id="demo" class="max-w-4xl mx-auto px-6 py-20">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Prova il Chatbot Adesso</h2>
            <p class="text-xl text-gray-400">100% funzionante - vedi come risponde</p>
        </div>
        
        <div class="bg-gradient-to-br from-purple-600/10 to-pink-600/10 rounded-2xl p-6 border border-purple-500/30">
            <div id="chatMessages" class="bg-black/40 rounded-xl p-6 min-h-[400px] max-h-[500px] overflow-y-auto mb-4 space-y-4">
                <div class="text-center text-gray-400 text-sm">
                    üëã Scrivi un messaggio per provare il chatbot AI
                </div>
            </div>
            
            <div class="flex gap-3">
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="Scrivi qui... (es: Vorrei prenotare un tavolo)"
                    class="flex-1 px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:outline-none focus:border-purple-500 text-white"
                >
                <button 
                    onclick="sendDemoMessage()"
                    class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition-all"
                >
                    Invia
                </button>
            </div>
            
            <div class="mt-4 flex gap-2 flex-wrap">
                <button onclick="quickMsg('Vorrei prenotare un tavolo per 2 persone stasera')" class="px-3 py-1 bg-white/10 rounded-full text-sm hover:bg-white/20 transition-all">
                    üí¨ Prenotazione
                </button>
                <button onclick="quickMsg('Quali sono i vostri orari di apertura?')" class="px-3 py-1 bg-white/10 rounded-full text-sm hover:bg-white/20 transition-all">
                    üïê Orari
                </button>
                <button onclick="quickMsg('Avete opzioni vegetariane?')" class="px-3 py-1 bg-white/10 rounded-full text-sm hover:bg-white/20 transition-all">
                    ü•ó Menu
                </button>
            </div>
        </div>
        
        <div class="text-center mt-6">
            <p class="text-green-400 font-bold">‚úì Questo chatbot sar√† attivo per il tuo ristorante in 24 ore</p>
        </div>
    </section>

    <!-- Problemi vs Soluzioni -->
    <section class="max-w-6xl mx-auto px-6 py-20">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Ti Suona Familiare?</h2>
        </div>
        
        <div class="grid md:grid-cols-2 gap-8">
            <div class="space-y-4">
                <h3 class="text-2xl font-bold text-red-400 mb-6">‚ùå Senza AutomAI:</h3>
                <div class="bg-red-600/10 border border-red-500/30 rounded-xl p-6">
                    <p class="text-lg">üò´ Perdi 30-40% delle richieste su Instagram</p>
                </div>
                <div class="bg-red-600/10 border border-red-500/30 rounded-xl p-6">
                    <p class="text-lg">üí∏ I clienti vanno dai competitor</p>
                </div>
                <div class="bg-red-600/10 border border-red-500/30 rounded-xl p-6">
                    <p class="text-lg">‚è∞ Nessuno risponde dopo l'orario</p>
                </div>
            </div>
            
            <div class="space-y-4">
                <h3 class="text-2xl font-bold text-green-400 mb-6">‚úÖ Con AutomAI:</h3>
                <div class="bg-green-600/10 border border-green-500/30 rounded-xl p-6">
                    <p class="text-lg">‚ö° Risposta in 10 secondi, sempre</p>
                </div>
                <div class="bg-green-600/10 border border-green-500/30 rounded-xl p-6">
                    <p class="text-lg">üìà +35% prenotazioni garantite</p>
                </div>
                <div class="bg-green-600/10 border border-green-500/30 rounded-xl p-6">
                    <p class="text-lg">üåô Lavora mentre dormi (24/7)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Prezzi -->
    <section id="prezzi" class="max-w-6xl mx-auto px-6 py-20">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Scegli il Piano Perfetto</h2>
            <p class="text-xl text-gray-400">Nessun costo nascosto ‚Ä¢ Cancelli quando vuoi</p>
        </div>
        
        <!-- Comparison Helper -->
        <div class="max-w-4xl mx-auto mb-12 bg-gradient-to-r from-blue-600/10 to-purple-600/10 rounded-xl p-6 border border-blue-500/30">
            <div class="text-center mb-4">
                <p class="text-lg font-bold mb-2">‚ùì Quale piano scegliere?</p>
            </div>
            <div class="grid md:grid-cols-3 gap-4 text-sm">
                <div class="text-center">
                    <p class="font-bold text-blue-400 mb-1">Starter</p>
                    <p class="text-gray-400">20-40 coperti<br/>1 location<br/>Gestione manuale</p>
                </div>
                <div class="text-center">
                    <p class="font-bold text-purple-400 mb-1">Professional</p>
                    <p class="text-gray-400">40-100 coperti<br/>Analytics<br/>Email automation</p>
                </div>
                <div class="text-center">
                    <p class="font-bold text-pink-400 mb-1">Enterprise</p>
                    <p class="text-gray-400">Catene/Multi-sede<br/>Integrato con POS<br/>Social automation</p>
                </div>
            </div>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
            <!-- Starter -->
            <div class="bg-white/5 border border-white/10 rounded-2xl p-8">
                <h3 class="text-2xl font-bold mb-4 text-center">Starter</h3>
                <div class="text-center mb-6">
                    <p class="text-4xl font-bold mb-2">‚Ç¨2,990</p>
                    <p class="text-gray-400 text-sm">setup una tantum</p>
                    <div class="my-4 border-t border-white/10"></div>
                    <p class="text-3xl font-bold text-purple-400">‚Ç¨490</p>
                    <p class="text-gray-400 text-sm">/mese</p>
                </div>
                
                <ul class="space-y-3 mb-8">
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Chatbot WhatsApp/Instagram</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> 500 conversazioni/mese</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Supporto email</li>
                    <li class="flex gap-2 text-gray-500"><span>‚úó</span> Email automation</li>
                    <li class="flex gap-2 text-gray-500"><span>‚úó</span> Integrazione POS</li>
                </ul>
                
                <button onclick="mostraForm('Starter', 2990, 490)" class="w-full py-3 bg-white/10 rounded-lg font-bold hover:bg-white/20 transition-all">
                    Scegli Starter
                </button>
            </div>
            
            <!-- Professional -->
            <div class="bg-gradient-to-br from-purple-600/20 to-pink-600/20 border-2 border-purple-500 rounded-2xl p-8 relative transform scale-105">
                <div class="absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full text-sm font-bold">
                    üî• CONSIGLIATO
                </div>
                
                <h3 class="text-2xl font-bold mb-4 text-center">Professional</h3>
                <div class="text-center mb-6">
                    <p class="text-4xl font-bold mb-2">‚Ç¨4,490</p>
                    <p class="text-gray-400 text-sm">setup una tantum</p>
                    <div class="my-4 border-t border-purple-500/30"></div>
                    <p class="text-3xl font-bold text-purple-400">‚Ç¨750</p>
                    <p class="text-gray-400 text-sm">/mese</p>
                </div>
                
                <ul class="space-y-3 mb-8">
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> <strong>Tutto Starter +</strong></li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Email automation clienti</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Conversazioni illimitate</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Analytics avanzate</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Personalizzazione brand</li>
                    <li class="flex gap-2 text-gray-500"><span>‚úó</span> Integrazione POS/Multi-sede</li>
                </ul>
                
                <button onclick="mostraForm('Professional', 4490, 750)" class="w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition-all">
                    Scegli Professional
                </button>
            </div>
            
            <!-- Enterprise -->
            <div class="bg-white/5 border border-white/10 rounded-2xl p-8">
                <h3 class="text-2xl font-bold mb-4 text-center">Enterprise</h3>
                <div class="text-center mb-6">
                    <p class="text-4xl font-bold mb-2">‚Ç¨7,990</p>
                    <p class="text-gray-400 text-sm">setup una tantum</p>
                    <div class="my-4 border-t border-white/10"></div>
                    <p class="text-3xl font-bold text-purple-400">‚Ç¨1,200</p>
                    <p class="text-gray-400 text-sm">/mese</p>
                </div>
                
                <ul class="space-y-3 mb-8">
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> <strong>Tutto Professional +</strong></li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> <strong>Integrazione POS</strong> (automatico)</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Gestione multi-location</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Social media automation</li>
                    <li class="flex gap-2"><span class="text-green-400">‚úì</span> Account manager dedicato</li>
                </ul>
                
                <button onclick="mostraForm('Enterprise', 7990, 1200)" class="w-full py-3 bg-white/10 rounded-lg font-bold hover:bg-white/20 transition-all">
                    Scegli Enterprise
                </button>
            </div>
        </div>
        
        <div class="text-center mt-12">
            <p class="text-green-400 font-bold mb-2">üéÅ Setup in 24 ore ‚Ä¢ Garanzia 30 giorni ‚Ä¢ Cancelli quando vuoi</p>
            <p class="text-gray-400 mb-4">üí≥ Pagamento sicuro con Stripe</p>
            <details class="max-w-2xl mx-auto mt-6">
                <summary class="cursor-pointer text-purple-400 hover:text-purple-300 font-medium">‚ùì Cos'√® l'integrazione POS nel piano Enterprise?</summary>
                <div class="mt-4 p-4 bg-white/5 rounded-lg text-left text-sm text-gray-300">
                    <p class="mb-2"><strong>POS = Sistema di cassa del ristorante</strong> (Lightspeed, Toast, Square, ecc.)</p>
                    <p class="mb-3">Con l'integrazione POS, il chatbot si collega direttamente al tuo sistema:</p>
                    <ul class="space-y-2 ml-4">
                        <li>‚úì Prenotazioni vanno automaticamente nel sistema</li>
                        <li>‚úì Controllo tavoli disponibili in tempo reale</li>
                        <li>‚úì Zero inserimento manuale</li>
                        <li>‚úì Storico clienti sincronizzato</li>
                    </ul>
                    <p class="mt-3 text-purple-400">Perfetto per catene o ristoranti con pi√π sedi!</p>
                </div>
            </details>
        </div>
    </section>

    <!-- Form Ordine (Hidden) -->
    <div id="formOrdine" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-gradient-to-br from-slate-900 to-purple-900 rounded-2xl p-8 max-w-2xl w-full border border-purple-500/50 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">Completa l'Ordine</h3>
                <button onclick="chiudiForm()" class="text-3xl hover:text-red-400">&times;</button>
            </div>
            
            <div class="bg-purple-600/20 rounded-lg p-4 mb-6 border border-purple-500/50">
                <p class="font-bold mb-2">Piano Selezionato: <span id="pianoScelto"></span></p>
                <p>Setup: <span id="prezzoSetup" class="font-bold text-green-400"></span></p>
                <p>Mensile: <span id="prezzoMensile" class="font-bold text-purple-400"></span></p>
            </div>
            
            <form id="orderForm" class="space-y-4">
                <div>
                    <label class="block mb-2 font-medium">Nome Ristorante *</label>
                    <input type="text" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                </div>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block mb-2 font-medium">Il tuo Nome *</label>
                        <input type="text" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                    </div>
                    <div>
                        <label class="block mb-2 font-medium">Cognome *</label>
                        <input type="text" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                    </div>
                </div>
                
                <div>
                    <label class="block mb-2 font-medium">Email *</label>
                    <input type="email" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                </div>
                
                <div>
                    <label class="block mb-2 font-medium">Telefono / WhatsApp *</label>
                    <input type="tel" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                </div>
                
                <div>
                    <label class="block mb-2 font-medium">Citt√† *</label>
                    <input type="text" required class="w-full px-4 py-3 bg-black/40 border border-white/20 rounded-lg focus:border-purple-500 focus:outline-none">
                </div>
                
                <div class="bg-green-600/20 rounded-lg p-4 border border-green-500/50">
                    <p class="text-sm"><strong>‚úì Cosa succede dopo?</strong></p>
                    <p class="text-sm text-gray-300 mt-2">1. Ricevi email di conferma immediata</p>
                    <p class="text-sm text-gray-300">2. Ti contattiamo entro 2 ore</p>
                    <p class="text-sm text-gray-300">3. Setup chatbot in 24 ore</p>
                    <p class="text-sm text-gray-300">4. Vai online e inizi a ricevere prenotazioni!</p>
                </div>
                
                <button type="submit" class="w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-lg font-bold text-lg hover:from-green-700 hover:to-emerald-700 transition-all">
                    üöÄ Conferma Ordine
                </button>
                
                <p class="text-xs text-gray-400 text-center">Cliccando confermi di accettare i termini di servizio. Nessun addebito fino a conferma telefonica.</p>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/30 border-t border-white/10 py-12">
        <div class="max-w-6xl mx-auto px-6 text-center">
            <p class="text-gray-400 mb-4">¬© 2025 AutomAI Agency - Tutti i diritti riservati</p>
            <p class="text-sm text-gray-500">Aiutiamo ristoranti a crescere con l'intelligenza artificiale</p>
        </div>
    </footer>

    <script>
        // Chat Demo Intelligente con Contesto
        let conversationState = {
            step: 'initial',
            numPeople: null,
            date: null,
            time: null,
            name: null
        };
        
        let conversationHistory = [];

        function addMessage(text, isUser) {
            const chat = document.getElementById('chatMessages');
            const msg = document.createElement('div');
            msg.className = `flex ${isUser ? 'justify-start' : 'justify-end'}`;
            msg.innerHTML = `
                <div class="${isUser ? 'bg-purple-600' : 'bg-gradient-to-r from-pink-600 to-purple-600'} rounded-2xl ${isUser ? 'rounded-bl-none' : 'rounded-br-none'} px-4 py-3 max-w-xs md:max-w-md">
                    <p class="text-sm">${text}</p>
                </div>
            `;
            chat.appendChild(msg);
            chat.scrollTop = chat.scrollHeight;
            
            conversationHistory.push({ text, isUser });
        }

        function extractNumber(text) {
            const matches = text.match(/\d+/);
            return matches ? parseInt(matches[0]) : null;
        }

        function extractTime(text) {
            const lowerText = text.toLowerCase();
            
            // Check for meal times FIRST
            if (lowerText.includes('pranzo') || lowerText.includes('mezzogiorno')) return '12:30';
            if (lowerText.includes('cena')) return '20:00';
            
            // Only look for explicit times with numbers
            const timePatterns = [
                /alle?\s*(\d{1,2})[:\.]?(\d{2})?/i,
                /per\s+le?\s*(\d{1,2})[:\.]?(\d{2})?/i,
                /ore?\s*(\d{1,2})[:\.]?(\d{2})?/i
            ];
            
            for (let pattern of timePatterns) {
                const match = text.match(pattern);
                if (match) {
                    let hour = parseInt(match[1]);
                    let minute = match[2] ? match[2] : '00';
                    
                    // If evening/sera mentioned and hour < 12, add 12
                    if (hour < 12 && (lowerText.includes('sera') || lowerText.includes('cena') || lowerText.includes('stasera'))) {
                        hour += 12;
                    }
                    
                    // Format hour
                    if (hour < 10) hour = '0' + hour;
                    
                    return `${hour}:${minute}`;
                }
            }
            
            // If "stasera" without time, suggest asking
            if (lowerText.includes('stasera') && !lowerText.match(/\d{1,2}/)) {
                return null; // No specific time found
            }
            
            return null;
        }

        function extractDate(text) {
            const today = ['oggi', 'stasera', 'questa sera'];
            const tomorrow = ['domani', 'domain'];
            
            const lowerText = text.toLowerCase();
            
            if (today.some(word => lowerText.includes(word))) return 'oggi';
            if (tomorrow.some(word => lowerText.includes(word))) return 'domani';
            
            // Check for specific dates
            const dateMatch = text.match(/(\d{1,2})[\/\-](\d{1,2})/);
            if (dateMatch) return `${dateMatch[1]}/${dateMatch[2]}`;
            
            return null;
        }

        function getBotResponse(userMsg) {
            const msg = userMsg.toLowerCase();
            
            // Check what info we can extract
            const numPeople = extractNumber(msg);
            const time = extractTime(msg);
            const date = extractDate(msg);
            
            // Update state with new info
            if (numPeople && !conversationState.numPeople) conversationState.numPeople = numPeople;
            if (time && !conversationState.time) conversationState.time = time;
            if (date && !conversationState.date) conversationState.date = date;
            
            // Initial booking request
            if ((msg.includes('prenotare') || msg.includes('prenot') || msg.includes('tavolo')) && conversationState.step === 'initial') {
                conversationState.step = 'collecting';
                
                // Check what info we already have from first message
                if (conversationState.numPeople && conversationState.date && conversationState.time) {
                    conversationState.step = 'confirm';
                    return `Perfetto! Ricapitoliamo:\nüìÖ ${conversationState.date} alle ${conversationState.time}\nüë• ${conversationState.numPeople} persone\n\nA che nome faccio la prenotazione?`;
                }
                if (conversationState.numPeople && conversationState.date) {
                    return `Ottimo! ${conversationState.numPeople} persone per ${conversationState.date}. A che ora preferisci?`;
                }
                if (conversationState.numPeople) {
                    return `Perfetto! ${conversationState.numPeople} persone. Per quale giorno e orario?`;
                }
                return 'Certo! Per quante persone e per quando?';
            }
            
            // Collecting info
            if (conversationState.step === 'collecting') {
                // Check if we have everything
                if (conversationState.numPeople && conversationState.date && conversationState.time) {
                    conversationState.step = 'confirm';
                    return `Perfetto! Ricapitoliamo:\nüìÖ ${conversationState.date} alle ${conversationState.time}\nüë• ${conversationState.numPeople} persone\n\nA che nome faccio la prenotazione?`;
                }
                
                // Ask for missing info
                if (!conversationState.numPeople) {
                    return 'Per quante persone?';
                }
                if (!conversationState.date) {
                    return `Ottimo, ${conversationState.numPeople} persone! Per quale giorno?`;
                }
                if (!conversationState.time) {
                    return `Perfetto! ${conversationState.numPeople} persone per ${conversationState.date}. A che ora?`;
                }
            }
            
            // Confirmation step
            if (conversationState.step === 'confirm') {
                conversationState.step = 'complete';
                const name = msg.split(' ')[0];
                return `üéâ Prenotazione confermata!\n\nüìÖ ${conversationState.date} alle ${conversationState.time}\nüë• ${conversationState.numPeople} persone\nüìù Nome: ${name}\n\nTi invieremo un promemoria 2 ore prima. A presto! ‚ú®`;
            }
            
            // Other queries
            if (msg.includes('orari') || msg.includes('aperto') || msg.includes('apertura')) {
                return 'Siamo aperti dal marted√¨ alla domenica:\nüçΩÔ∏è Pranzo: 12:00-15:00\nüåô Cena: 19:00-23:00\n(Luned√¨ chiusi)\n\nVuoi prenotare un tavolo?';
            }
            
            if (msg.includes('menu') || msg.includes('mangiare') || msg.includes('piatti')) {
                return 'Offriamo cucina italiana tradizionale:\nüçù Pasta fresca\nüçï Pizza napoletana\nü•© Carne alla griglia\nü•ó Opzioni vegetariane\n\nMenu completo da ‚Ç¨25. Vuoi prenotare?';
            }
            
            if (msg.includes('vegetariano') || msg.includes('vegano') || msg.includes('veg')) {
                return 'S√¨! Abbiamo ottime opzioni vegetariane:\nü•ó Insalate gourmet\nüçù Pasta con verdure\nüßÄ Risotti\n\nVuoi prenotare un tavolo?';
            }
            
            if (msg.includes('dove') || msg.includes('indirizzo') || msg.includes('posizione')) {
                return 'üìç Ci troviamo in Via Roma 123, Milano\nüöá Metro M1 - Fermata Duomo (5 min a piedi)\n\nVuoi prenotare?';
            }
            
            if (msg.includes('prezzo') || msg.includes('costa') || msg.includes('costo')) {
                return 'üí∞ Menu alla carta da ‚Ç¨25/persona\nüçΩÔ∏è Menu degustazione ‚Ç¨45/persona\n\nPosso aiutarti con una prenotazione?';
            }
            
            // Default
            return 'Ciao! Come posso aiutarti? üòä\n\n‚Ä¢ Prenotare un tavolo\n‚Ä¢ Info su orari\n‚Ä¢ Vedere il menu\n‚Ä¢ Chiedere indicazioni';
        }

        function sendDemoMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (!message) return;
            
            addMessage(message, true);
            input.value = '';
            
            setTimeout(() => {
                const response = getBotResponse(message);
                addMessage(response, false);
            }, 800);
        }

        function quickMsg(text) {
            document.getElementById('messageInput').value = text;
            sendDemoMessage();
        }

        document.getElementById('messageInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendDemoMessage();
        });

        // Form Ordine
        function mostraForm(piano, setup, mensile) {
            document.getElementById('pianoScelto').textContent = piano;
            document.getElementById('prezzoSetup').textContent = '‚Ç¨' + setup;
            document.getElementById('prezzoMensile').textContent = '‚Ç¨' + mensile + '/mese';
            document.getElementById('formOrdine').classList.remove('hidden');
        }

        function chiudiForm() {
            document.getElementById('formOrdine').classList.add('hidden');
        }

        document.getElementById('orderForm').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('üéâ ORDINE RICEVUTO!\n\n‚úì Riceverai email di conferma tra 2 minuti\n‚úì Ti contattiamo entro 2 ore\n‚úì Chatbot attivo in 24 ore\n\nGrazie per aver scelto AutomAI! üöÄ');
            chiudiForm();
            document.getElementById('orderForm').reset();
        });
    </script>
</body>
</html>